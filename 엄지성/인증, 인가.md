# 인증, 인가
## 인증(Authentication)이란
* 유저가 회원가입이나 로그인을 했을 때 이 사람이 누구인지 확인하는 과정을 인증이라고 한다.

* 예를 들어, 고등학교를 다니는데 고등학교를 다닌다고 알리고 인증할 수 있는 수단이 학생증이 있다. 학생증으로 학교를 다니는 것을 `인증`할 수 있다.

* 온라인 상에서는 ID와 PW를 입력하는 것으로 인증을 할 수 있다.

## 인가(Authorization)란
* 인증된 유저가 어떤 곳까지 접근 할 수 있고 어디까지 동작할 수 있는 지를 판단하는 곳이다.

* 예를 들어, 위에 말했던 학생증처럼 학생증이라는 수단으로 학생이라는 것을 인증하고 그 학생증으로 고등학교를 다니는 것이 인가라고 한다.

* 인증과 인가를 하는 방식 중에 쿠키, 세션, 토큰들이 존재한다.

* 유저는 위에 방법으로 서버한테 인증을 받는다.

* 그리고 예를 들어 인증받은 토큰을 가지고 다음에 동작이나 접근할 때 그걸로 인가를 받는다.

### 세션-쿠키 흐름
1. 유저가 로그인을 보낸다.

2. DB에서 유저를 조회한다. 

3. 조회 후에 존재하면 세션을 발급받는다.

4. 세션 스토리지에 저장 후 세션ID를 발급받는다.

5. 발급받은 세션ID를 응답으로 보내서 세션ID를 쿠키에 저장한다.

6. 

## 인증과 인가

* 인증을 하면 인가를 하게 되어있다. 예를 들어서 주민등록증을 가지고 있는 걸로 대한민국의 국민이라는 것을 인증할 수 있고 만약에 술을 마시고 싶어서 편의점에서 살때 주민등록증을 확인해서 만19세가 넘었다는 것을 확인해 인가할 수 있다.

* 반면에 생각해보면 꼭 인증과 인가가 둘 다 일어나야하는 의무는 없다. 예를 들어서 도어락에 카드키를 이용하면 도어락이 누구인지는 몰라도 카드키만 있으면 인가를 받을 수 있다.

## 정리

* 인증은 내가 누구인지 확인하는 과정이다.

* 인가는 내가 누구인지 인증을 하고 동작을 하거나 어디까지 할 수 있는 지를 확인하는 부분이다.

* 인증 -> 인가가 보편적인 흐름이다.

* 인증과 인가가 동시에 일어날 이유가 없고 굳이 인증을 하지 않아도 인가는 일어날 수 있다.

